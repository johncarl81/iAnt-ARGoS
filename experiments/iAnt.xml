<?xml version="1.0"?>
<argos-configuration>

<framework>

<!--
    <experiment length           = "0"
                ticks_per_second = "16"
                random_seed      = "1337"/>
-->

    <experiment ticks_per_second = "16"
                random_seed      = "1337"/>

</framework>

<controllers>
    <iAnt_controller id      = "iAnt_c"
                     library = "build/source/libiAnt_controller">

        <actuators>
            <differential_steering implementation = "default"/>
        </actuators>

        <sensors>
            <footbot_proximity    implementation = "default"
                                  show_rays      = "false"/>
            <positioning          implementation = "default"/>
            <footbot_motor_ground implementation = "rot_z_only"/>
        </sensors>

        <!-- un-evolvable parameters -->
        <!-- remember: a footbot's radius = 8.5 cm / 0.085 m -->
        <params>
			<iAnt_params searchStepSize          = "0.175"
                         distanceTolerance       = "0.01"
                		 robotForwardSpeed       = "16.0"
                         robotRotationSpeed      = "13.3"
            	         angleToleranceInDegrees = "15.0"/>
			</params>
        </iAnt_controller>
    </controllers>

    <!-- LOOP FUNCTIONS -->
    <loop_functions library = "build/source/libiAnt_loop_functions"
                    label   = "iAnt_loop_functions">

        <!-- evolvable parameters -->
        <CPFA       ProbabilityOfSwitchingToSearching = "0.2041456252336502"
                    ProbabilityOfReturningToNest      = "0.0009405957534909248"
                    UninformedSearchVariation         = "12.996437"
                    RateOfInformedSearchDecay         = "0.2497878670692444"
                    RateOfSiteFidelity                = "2.5117506980896"
                    RateOfLayingPheromone             = "2.24421238899231"
                    RateOfPheromoneDecay              = "0.03821808844804764"/>

        <!-- un-evolvable environment variables -->
        <simulation MaxSimCounter        = "1"
                    MaxSimTime           = "1200"
                    Chromosome = "1,1,0,32,0;2,1,0,33,0;3,1,1,32,0;4,1,1,33,0;5,1,2,32,1.45941;6,1,2,33,2.12569;7,1,3,32,1.2822;8,1,3,33,0;9,1,4,32,0;10,1,4,33,0;11,1,5,32,0;12,1,5,33,0;13,1,6,32,0;14,1,6,33,1.56364;15,1,7,32,-0.279448;16,1,7,33,0;17,1,8,32,0;18,1,8,33,1.98537;19,1,9,32,0;20,1,9,33,2.49686;21,1,10,32,-0.144017;22,1,10,33,0;23,1,11,32,0;24,1,11,33,0.811206;25,1,12,32,0.00389719;26,1,12,33,0;27,1,13,32,1.29714;28,1,13,33,0;29,1,14,32,0;30,1,14,33,-1.6085;31,1,15,32,0.588071;32,1,15,33,0;33,1,16,32,0.891768;34,1,16,33,-1.42434;35,1,17,32,-1.22928;36,1,17,33,0;37,1,18,32,0;38,1,18,33,0;39,1,19,32,0.622566;40,1,19,33,1.53643;41,1,20,32,-0.370571;42,1,20,33,0;43,1,21,32,0.372059;44,1,21,33,0.916043;45,1,22,32,0;46,1,22,33,1.28491;47,1,23,32,1.15172;48,1,23,33,0;49,1,24,32,0;50,1,24,33,-1.64914;51,1,25,32,0;52,1,25,33,0.12484;53,1,26,32,-1.87818;54,1,26,33,0;55,1,27,32,0;56,1,27,33,-1.0011;57,1,28,32,0;58,1,28,33,0;59,1,29,32,0.650638;60,1,29,33,0;61,1,30,32,-0.809218;62,1,30,33,0.846244;86,1,0,0,0.153969;"
                    VariableSeed         = "1"
                    OutputData           = "1"
                    ResourceDensityDelay = "4"
                    DrawDensityRate      = "8"
                    DrawTrails           = "1"
                    DrawTargetRays       = "1"
                    NestPosition         = "0.0, 0.0"
                    NestRadius           = "0.25"
                    NestElevation        = "0.01"
                    FoodRadius           = "0.05"
                    FoodDistribution     = "0"/>

		<!-- un-evolvable food distribution parameters -->
        <_0_FoodDistribution_Random   FoodItemCount    = "256"/>
        <_1_FoodDistribution_Cluster  NumberOfClusters = "4"
                                      ClusterWidthX    = "8"
                                      ClusterLengthY   = "8"/>
        <_2_FoodDistribution_PowerLaw PowerRank        = "4"/>

    </loop_functions>

    <!-- ARENA -->
    <arena size="10.0, 10.0, 1.0" center="0.0, 0.0, 0.0">

        <floor id="floor" source="loop_functions" pixels_per_meter="10"/>

        <distribute>

            <!--
            <position method = "uniform"
                      min    = "-1, -1, 0"
                      max    = "1, 1, 0"/>
            <orientation method="gaussian" mean="0, 0, 0" std_dev="360, 0, 0"/>
            -->

            <position method="grid"
                      center="0.0, 0.0, 0.0"
                      distances="0.2, 0.2, 0.0"
                      layout="2, 3, 1" />
            <orientation method="constant" values="0.0, 0.0, 0.0" />

            <entity quantity="6" max_trials="100">
                <foot-bot id="fb_"><controller config="iAnt_c"/></foot-bot>
            </entity>
        </distribute>

    </arena>

    <!-- PHYSICS ENGINE(S) -->
    <physics_engines><dynamics2d id="dyn2d"/></physics_engines>

    <!-- MEDIA -->
    <media><led id="leds"/></media>

    <!-- VISUALIZATION -->
    <visualization>
        <qt-opengl>
            <camera>
                <placement idx="0" position="  0, 0, 10" look_at="0, 0, 0" lens_focal_length="25"/>
                <placement idx="1" position="  0, 0, 10" look_at="0, 0, 0" lens_focal_length="45"/>
                <placement idx="2" position="  0, 0, 10" look_at="0, 0, 0" lens_focal_length="120"/>
                <placement idx="3" position="-30, 0, 10" look_at="0, 0, 0" lens_focal_length="180"/>
                <placement idx="4" position="-30, 0, 10" look_at="0, 0, 0" lens_focal_length="240"/>
            </camera>
            <user_functions label="iAnt_qt_user_functions"/>
        </qt-opengl>
    </visualization>

</argos-configuration>
